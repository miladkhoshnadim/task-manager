<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="class6.css" rel="stylesheet" />
    <script src="class6.js"></script>
    <title>Document</title>
</head>
<body>
    <div class="maiin" >
        <header>
            <h1 style="margin: 0px ; position: relative; display: inline;" >Hey Tamara</h1>
                        <a href="file:///F:/java/JS/w6/class6_2.html?time=1">
                            <img src="plus.png" alt="plus" width="12px" height="12px" class="imgplus">
                        </a>
            <div id="hed" style="margin: 0px ;"></div>
        </header>
        <main>
            <div style="display: flex ; border-bottom: 1px solid rgb(202, 198, 198);">
                <a href="file:///F:/java/JS/w6/class6-3.html">
                <p  class="box1"><strong style="display:block ;">16</strong>tasksCreated</p> 
                </a>
                <p class="box1"><strong id="bo" style="display:block ;"></strong>tasks lefted</p>
               
            </div>
            <div style="display: flex ; margin-top: 10px; position: relative ;">
                <div class="box2"  id="boxx" >
                     <div class="colorpoint" style="border: 4px solid rgb(145, 94, 238);"></div>
                     <strong style="display:block ;">work</strong>
                </div>
                <div id="boxper" class="box2righ">
                    <div class="colorpoint" style="border: 4px solid rgb(24, 155, 68);"></div>
                    <strong  style="display:block ;">personal</strong>
                </div>
            </div>
            <div style="display: flex ;">
                <div class="box2" id="boxsh">
                    <div class="colorpoint" style="border: 4px solid rgb(236, 91, 193);"></div>
                    <strong  style="display:block ;">shopping</strong>
                </div>
                <div class="box2righ" id="boxhe">
                    <div class="colorpoint" style="border: 4px solid rgb(224, 8, 109);"></div>
                    <strong  style="display:block ;">Health</strong>
                </div>
            </div>
            <div id="times">
                
                
                <!-- <div>
                    <section style="display: flex ; margin-top: 10px;" >
                        <div style="flex:1;">08:00</div>
                        <div style="flex:4; margin-top: 8px ; border-top: 2px solid rgb(192, 186, 186) ;"></div>
                    </section>
                    <p>08:30 </p>
                    <p>09:00</p>
                    <p></p>
                    <p>09:30</p>
                    <p>10:00</p>
                    <section style="display: flex ;" >
                        <div style="flex:1;">10:30</div>
                        <div style="flex:4; margin-top: 8px ; border-top: 2px solid rgb(192, 186, 186) ;"></div>
                    </section>
                    
                    <p>11:00</p>
                    <p>11:30</p>
                    <p>12:00</p>
                </div> -->
            </div>
        </main>
        </div>
        <script>

         let inputs = JSON.parse(localStorage.getItem ("object"))
         console.log (inputs)  

        let divh = document.createElement ("div");
        divh.innerHTML=`Today you have ${inputs.length} tasks`;
        document.getElementById("hed").appendChild(divh);

        let divt = document.createElement ("div");
        divt.innerHTML=`${inputs.length}`;
        document.getElementById("bo").appendChild(divt);

        let cuntwo=0 , cuntsh=0 ,cunthea=0 , cuntpers =0 ;
        for (let i=0 ; i<inputs.length ; i=++i){
            if (inputs[i].do == "work"){
                cuntwo = cuntwo +1
            } else if (inputs[i].do == "shopping"){
                cuntsh = cuntsh +1
            }else if (inputs[i].do == "personal"){
                cuntpers = cuntpers +1
            }else if (inputs[i].do == "Health"){
                cunthea = cunthea +1
            }
        }
        
        let div1 = document.createElement ("div");
        div1.innerHTML=`${cuntwo} tasks`;
        document.getElementById("boxx").appendChild(div1);
        
        let div2 = document.createElement ("div");
        div2.innerHTML=`${cuntpers} tasks`;
        document.getElementById("boxper").appendChild(div2);

        let div3 = document.createElement ("div");
        div3.innerHTML=`${cuntsh} tasks`;
        document.getElementById("boxsh").appendChild(div3);

        let div4 = document.createElement ("div");
        div4.innerHTML=`${cunthea} tasks`;
        document.getElementById("boxhe").appendChild(div4);

        let time = ["08:00","08:30","09:00","09:30","10:00","10:30","11:00","11:30","12:00","12:30","13:00","13:30","14:00","14:30","15:00","15:30","16:00","16:30","17:00","17:30","18:00","18:30","19:00","19:30"]
        let stylee; 

         for (let i=0 ; i<24 ; i=++i){
            let tim = document.getElementById("times");
            let div = document.createElement ("div");
            
           
            const currentTask = inputs.find(item => item.tim.slice(0,5)===time[i] )
            
            //set color pont
            if (currentTask){
            if (currentTask.do == "work"){
                stylee = "border: 4px solid rgb(145, 94, 238); margin-left: 280px;"
            } else if (currentTask.do == "shopping"){
                stylee = "border: 4px solid rgb(236, 91, 193);margin-left: 280px;"
            }else if (currentTask.do == "personal"){
                stylee = "border: 4px solid rgb(24, 155, 68);margin-left: 280px;"
            }else if (currentTask.do == "Health"){
                stylee = "border: 4px solid rgb(224, 8, 109);margin-left: 280px;"
            }
        }
                       
           
            /// for time and discription
            div.innerHTML=`<div style="display: flex; margin-top: 5px;">
                    <div style="flex: 1;" >${time[i]}</div>
                    ${currentTask? `<div class="colorpoint" style="${stylee}"></div>
                    <div style="flex: 5; background-color: rgb(245, 249, 250); text-align: center;border-radius: 10px;" >
                    <div><b> ${currentTask.tit}</b></div>
                    ${currentTask.discr}</div>` : ""  }
                </div>`
            tim.appendChild(div);

         }
      
        
    </script>
</body>
</html>

